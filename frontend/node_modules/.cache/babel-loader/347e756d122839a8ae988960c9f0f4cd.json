{"ast":null,"code":"var _jsxFileName = \"/home/gael/development/web/python/flask/prueba/frontend/src/pages/CrearUsuario.jsx\";\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport Loading from '../components/Loading';\nimport { IP_API } from '../constants/ip_services';\n\nconst CrearUsuario = () => {\n  const history = useHistory();\n  const [values, setValues] = useState({\n    nombre: '',\n    ap: ''\n  });\n  const [cargando, setCargando] = useState(false);\n\n  const saveUsuarios = async e => {\n    setCargando(true);\n    const formData = new FormData();\n    const fileField = document.querySelector(\"input[type='file']\");\n    console.log(fileField.files[0]);\n    formData.append('avatar', fileField.files[0]);\n    formData.append('nombre', values.nombre);\n    formData.append('apeido', values.ap);\n    e.preventDefault();\n    const res = await fetch(`${IP_API}/api/addUsuarios/`, {\n      method: 'POST',\n      body: formData\n    });\n    const data = await res.json();\n    console.log(data);\n    alert(data.message);\n    setTimeout(() => {\n      setCargando(false);\n      history.push('/usuarios');\n    }, 1000);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, \"Nuevo Usuario\"), cargando ? /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 20\n    }\n  }) : /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: saveUsuarios,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \"Nombre\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: values.nombre,\n    onChange: e => setValues({ ...values,\n      nombre: e.target.value\n    }),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, \"Apeido\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: values.ap,\n    onChange: e => setValues({ ...values,\n      ap: e.target.value\n    }),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \"image/png, image/jpeg\",\n    max: \"1000\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \" Enviar\")));\n};\n\nexport default CrearUsuario;","map":{"version":3,"sources":["/home/gael/development/web/python/flask/prueba/frontend/src/pages/CrearUsuario.jsx"],"names":["React","useState","useHistory","Loading","IP_API","CrearUsuario","history","values","setValues","nombre","ap","cargando","setCargando","saveUsuarios","e","formData","FormData","fileField","document","querySelector","console","log","files","append","preventDefault","res","fetch","method","body","data","json","alert","message","setTimeout","push","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { useHistory } from 'react-router';\nimport Loading from '../components/Loading';\nimport { IP_API } from '../constants/ip_services';\n\nconst CrearUsuario = () => {\n    const history = useHistory();\n    const [values ,setValues] = useState({\n        nombre:'',\n        ap:'',\n    });\n    const [cargando,setCargando] = useState(false);\n\n    const saveUsuarios = async e =>{\n        setCargando(true);\n        const formData = new FormData();\n        const fileField = document.querySelector(\"input[type='file']\");\n\n        console.log(fileField.files[0]);\n        formData.append('avatar',fileField.files[0]);\n        formData.append('nombre',values.nombre);\n        formData.append('apeido',values.ap);\n\n        e.preventDefault();\n        const res = await fetch(`${IP_API}/api/addUsuarios/`,{\n            method:'POST',\n            body:formData\n        });\n        const data = await res.json();\n        console.log(data);\n        alert(data.message);\n        setTimeout(()=>{\n            setCargando(false);\n            history.push('/usuarios');\n        },1000)\n    }\n\n    return(<div>\n        <h4>Nuevo Usuario</h4>\n       {cargando ? <Loading/> : <form onSubmit={saveUsuarios}>\n            <label>Nombre</label>\n            <input \n                value={values.nombre} \n                onChange={e=>setValues({...values,nombre:e.target.value})} \n                required\n            />\n            <label>Apeido</label>\n            <input \n                value={values.ap}\n                onChange={e=>setValues({...values,ap:e.target.value})}\n                required\n            />\n            <input \n                type='file' \n                accept=\"image/png, image/jpeg\" \n                max='1000'\n                required\n            />\n            <button type='submit' > Enviar</button>\n        </form>}\n    </div>);\n}\n\nexport default CrearUsuario;"]},"metadata":{},"sourceType":"module"}